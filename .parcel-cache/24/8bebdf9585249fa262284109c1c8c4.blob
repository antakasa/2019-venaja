"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var LazyHelpers = function () {
  var listOfPics = [];
  var listOfVideos = [];

  var removeFirstFromPicList = function removeFirstFromPicList() {
    listOfPics = listOfPics.slice(1, listOfPics.length);
  };

  var removeFirstFromVideoList = function removeFirstFromVideoList() {
    listOfVideos = listOfVideos.slice(1, listOfVideos.length);
  };

  return {
    initialize: function initialize() {
      listOfVideos = Array.from(document.querySelectorAll('video'));
      listOfPics = Array.from(document.querySelectorAll('.lazy-this'));
    },
    loadNextVideo: function loadNextVideo() {
      // This is used to lazy load videos & subitles one by one until all videos are loaded
      if (listOfVideos.length < 1) return;
      var video = listOfVideos[0];
      var videoSource = video.querySelector('source');
      var subTrack = video.querySelector('track');
      videoSource.src = video.dataset.src;

      if (subTrack) {
        subTrack.src = subTrack.dataset.src;
      }

      video.load();
      removeFirstFromVideoList();
    },
    loadNextPic: function loadNextPic() {
      if (listOfPics.length < 1) return;
      var picSource = listOfPics[0];
      picSource.src = picSource.dataset.src;
      removeFirstFromPicList();
    },
    get: function get(type) {
      return type === 'video' || type === 'videos' ? listOfVideos : listOfPics;
    }
  };
}();

var _default = LazyHelpers;
exports.default = _default;